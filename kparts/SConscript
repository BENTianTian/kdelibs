#! /usr/bin/env python
#generated from Makefile.am by am2bksys.py
Import('env')

libkparts_sources = """
browserextension.cpp browserinterface.cpp browserrun.cpp event.cpp
factory.cpp historyprovider.cpp mainwindow.cpp part.cpp
partmanager.cpp plugin.cpp statusbarextension.cpp
"""

kpartsinclude_headers = """
browserextension.h browserinterface.h browserrun.h componentfactory.h
event.h factory.h genericfactory.h historyprovider.h
mainwindow.h part.h partmanager.h plugin.h
statusbarextension.h
"""
includes = '../ #/kio/ #/libltdl #/kfile '

obj = env.kdeobj('shlib')
obj.target = 'kparts'
obj.vnum = '3.0.1'
obj.source = libkparts_sources
obj.includes = includes
obj.libpaths = "../kdecore ../kdeui ../kio ../dcop ../kdefx ../kdesu ../kwallet/client"
obj.libs = "kdecore kdeui kio DCOP kdefx kwalletclient"
obj.uselib = 'QT QTCORE QTGUI QTXML QT3SUPPORT KDE4'
if env['WINDOWS']:
	obj.libpaths += " ../win"
	obj.libs     += " kdewin32"
else:
	obj.libs     += " kdesu"
obj.cxxflags += ' -DMAKE_KPARTS_LIB ' # todo: will be generated automatically
obj.execute()

if env['MAC']:
	env.Depends('libkparts.3.0.1.dylib', '../kio/libkio.dylib')
elif not env['WINDOWS']:
	env.Depends('libkparts.so.3.0.1', '../kio/libkio.so')

env.bksys_insttype('KDEINCLUDE','',kpartsinclude_headers)
env.bksys_insttype('KDESERVTYPES', '', 'kpart.desktop krop.desktop krwp.desktop browserview.desktop')


"""Unhandled Defines
AM_LDFLAGS = $(LDFLAGS_AS_NEEDED)
kpartsincludedir = $(includedir)/kparts
DOXYGEN_REFERENCES = kdecore kdeui kdefx kio
"""

"""Unhandled Targets
check-local = ###(cd tests && $(MAKE) check )
"""

