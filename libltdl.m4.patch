Index: configure.in
===================================================================
RCS file: /gd/gnu/anoncvsroot/libtool/libltdl/configure.in,v
retrieving revision 1.47
diff -u -u -r1.47 configure.in
--- configure.in	1999/05/20 17:54:09	1.47
+++ configure.in	1999/05/30 15:18:05
@@ -1,35 +1,12 @@
-dnl Process this file with autoconf to create configure.
 
-AC_INIT(ltdl.c)
-
-if test -z "$enable_ltdl_install$enable_ltdl_convenience"; then
-  if test -f ${srcdir}/ltconfig && test -f ${srcdir}/ltmain.sh; then
-    # if libltdl is libtoolized, it is assumed to be stand-alone and
-    # installed unless the command line overrides it (tested above)
-    enable_ltdl_install=yes
-  else
-    AC_MSG_WARN([*** The top-level configure must select either])
-    AC_MSG_WARN([*** [A""C_LIBLTDL_INSTALLABLE] or [A""C_LIBLTDL_CONVENIENCE].])
-    AC_MSG_ERROR([*** Maybe you want to --enable-ltdl-install?])
-  fi
-fi
-
-AM_INIT_AUTOMAKE(libltdl,1.0,-)
-AM_CONFIG_HEADER(config.h)
-AM_MAINTAINER_MODE
-
-AC_PROG_CC
+AC_DEFUN(AC_LIBLTDL,
+[
+AC_REQUIRE([AC_PROG_CC])
 AC_C_CONST
 AC_C_INLINE
-AM_PROG_LIBTOOL
+AC_REQUIRE([AM_PROG_LIBTOOL])
 AC_SUBST(LIBTOOL_DEPS)
 
-AC_ARG_ENABLE(ltdl-install,
-[  --enable-ltdl-install   install libltdl])
-
-AM_CONDITIONAL(INSTALL_LTDL, test x"${enable_ltdl_install-no}" != xno)
-AM_CONDITIONAL(CONVENIENCE_LTDL, test x"${enable_ltdl_convenience-no}" != xno)
-
 dnl Read the libtool configuration
 rm -f conftest
 ./libtool --config > conftest
@@ -364,8 +341,7 @@
     [Define if dlsym() requires a leading underscode in symbol names. ])
 fi
 
-dnl Output the makefile
-AC_OUTPUT(Makefile)
+])
 
 # Local Variables:
 # mode:shell-script
