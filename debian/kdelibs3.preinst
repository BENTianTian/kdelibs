#! /bin/sh
# preinst script for kdelibs
#
# see: dh_installdeb(1)

set -e

case "$1" in
    install|upgrade)
      if [ -e /usr/share/applnk -a ! -L /usr/share/applnk ]; then
        if [ -e /etc/kde2/applnk -a ! -L /etc/kde2/applnk ]; then
          cd /usr/share/applnk && find ./ | cpio -pmd /etc/kde2/applnk/ >/dev/null 2>&1
          rm -rf /usr/share/applnk > /dev/null 2>&1
        else
          rm -f /etc/kde2/applnk >/dev/null 2>&1
          mv /usr/share/applnk /etc/kde2/applnk
        fi
      fi
      rm -rf /usr/share/applnk > /dev/null 2>&1
    ;;

    abort-upgrade)
    ;;

    *)
        echo "preinst called with unknown argument \`$1'" >&2
        exit 0
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0


