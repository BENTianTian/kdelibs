dnl libkmid's specific checks

#AC_ARG_ENABLE(alsa, 
#[  --enable-alsa    Turn on alsa support], 
#[case "${enableval}" in 
#yes) alsa=true ;; 
#no)  alsa=false ;; 
#*) AC_MSG_ERROR(bad value ${enableval} for --enable-alsa) ;; 
#esac],[alsa=false]) 

AC_DEFUN(AC_CHECK_LIBASOUND,
[
  ac_ldflags_save="$LDFLAGS"
  LDFLAGS="$all_libraries $LDFLAGS"
  AC_CHECK_HEADER(sys/asoundlib.h,
  [
    AC_CHECK_LIB(asound,snd_seq_open,[
      alsa=true
      LIBASOUND="-lasound"
      AC_DEFINE(HAVE_LIBASOUND, 1,
        [Define if you have libasound (required for alsa support)])
    ], [
      alsa=false
    ])
  ])
  AC_SUBST(LIBASOUND)
  LDFLAGS="$ac_ldflags_save"
])

#AM_CONDITIONAL(HAVE_ALSA, test x$alsa = xtrue) 

AC_CHECK_HEADERS(linux/awe_voice.h awe_voice.h /usr/src/sys/i386/isa/sound/awe_voice.h /usr/src/sys/gnu/i386/isa/sound/awe_voice.h)  

AC_CHECK_LIBASOUND

