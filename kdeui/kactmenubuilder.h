/*
* kactmenubuilder.h -- Declaration of class KActionMenuBuilder.
* Generated by newclass on Fri May 21 10:19:15 EST 1999.
*/
#ifndef SSK_KACTMENUBUILDER_H
#define SSK_KACTMENUBUILDER_H

class QPopupmenu;
class KUIActions;

/**
* Easy building of popup menu items using @ref KUIActions.
*
* @author Sirtaj Singh Kang (taj@kde.org)
* @version $Id$
*/
class KActionMenuBuilder
{
private:
	QPopupMenu *_menu;
	KUIActions *_act;
	unsigned _style;

public:
	/**
	* KActionMenuBuilder Constructor
	*/
	KActionMenuBuilder( KUIActions *actions, QPopupMenu *menu = 0 ) 
		: _menu( menu ), _act( actions ), _style( 1 ) {}

	/**
	* KActionMenuBuilder Destructor
	*/
	virtual ~KActionMenuBuilder() {}

	enum ItemStyle { 
		Text	=	1,
		Icon	=	2,
		ToolTip	=	4,
		WhatsThis =	8
	};
	
	void setMenu( QPopupMenu *menu, unsigned style = Text | WhatsThis )	
			{ _menu = menu; _style = style; }
	QPopupMenu *menu()			{ return _menu; }
	const QPopupMenu *menu() const		{ return _menu; }

	void setStyle( unsigned style )		{ _style = style;}
	unsigned style() const			{ return _style; }

	virtual int insert( const QString& action, int id = -1 );
	KActionMenuBuilder& operator<<( const QString& action )
				{ insert( action ); return *this; }

	int insertSeparator(int id = -1 );
	int insertPopup( const QString& text, QPopupMenu *menu, int id = -1 );
	
private:
	// disallowed operations.
	KActionMenuBuilder();
	KActionMenuBuilder& operator=( const KActionMenuBuilder& );
	KActionMenuBuilder( const KActionMenuBuilder& );
};

#endif // SSK_KACTMENUBUILDER_H
