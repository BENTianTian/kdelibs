<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BKSYS - Build Kde SYStem: Sconscript format</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1><a class="anchor" name="sconscript_format">Sconscript format</a></h1>BKSYS provides several classes based on the genobj class, which provides support for generating general, qt and KDE related binary objects like programs, shared library with several extensions and static libs.<p>
<ul>
<li>genobj: build generic c++ or c applications, depending on the sources given to build</li><li>qt4obj: build a <a class="el" href="namespaceqt4.html">qt4</a> object, scanning for moc files and adding the dependencies on .rcc files</li><li>kde4obj: build a <a class="el" href="namespacekde4.html">kde4</a> object, scanning for moc files and kidl files ...</li><li>kdeinitobj: build a kdeinit object, ... <dl compact><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>complete object short description</dd></dl>
All classes provides a set of attributes, which controls the behavior of the binary object creation.</li></ul>
<p>
An overview over the available attributes is shown below and described later in details: <div class="fragment"><pre class="fragment">obj = env.qt4obj('shlib',env)
obj.target   = 'libDCOP'
obj.vnum     = '6.0.2'
obj.source   = 'dcopstub.cpp dcopref.cpp dcopobject.cpp dcopclient.cpp'
obj.uselib   = 'QTCORE QT3SUPPORT KDE4'
obj.libpaths = 'KDE-ICE'
obj.libs     = 'kICE'
obj.includes = '../kio #/kio'
obj.ccflags  = '-DXYZ=a'
obj.cxxflags  = '-DXYZ=a'
obj.linkflags =
obj.libprefix
obj.instdir
obj.perms
obj.execute()
</pre></div><p>
Attributes could be assigned by either using strings (see line 1,2 in the examples below) or using a list (line 3,4):<p>
<div class="fragment"><pre class="fragment">obj.attribute    = 'DCOP'    (1) 
obj.attribute   += ' DCOP'   (2) 
obj.attribute    = ['DCOP']  (3) 
obj.attribute   += ['DCOP']  (4) 
</pre></div> <dl compact><dt><b>Note:</b></dt><dd>: If you are adding values as string, please prefix the added value with a space. This avoids unwanted concatenation.</dd></dl>
<h2><a class="anchor" name="attribute_details">
Attributes detail description</a></h2>
This section describes each attribute in detail. The displayed examples uses the string form; using the list form mentioned above is also possible.<p>
<ul>
<li>
<div class="fragment"><pre class="fragment">obj.target     = 'DCOP'
</pre></div> This attribute specifies the name of the target. For shared libraries a platform and/or compiler specific prefix will be added by scons, in many cases this will be 'lib'. To be platform independent you should not add any prefix. </li>
<li>
<div class="fragment"><pre class="fragment">obj.vnum     = '6.0.2'
</pre></div> This attribute specifies the version number for shared libraries. On windows platforms only the first number, the major number, is used to generate the shared library name. </li>
<li>
<div class="fragment"><pre class="fragment">obj.source      = 'file1.cpp file2.cpp file3.cpp'
</pre></div> This attribute specifies the source, which will be included to this target. </li>
<li>
<div class="fragment"><pre class="fragment">obj.includes     = 'kio ../kdecore'
obj.includes     = '/usr/include c:/openssl/include'
obj.includes     = '#/DCOP'    
obj.includes     = '##/DCOP'
</pre></div> This attribute specifies additional include paths containing header files, which will be added to the compiler command. The given directory path is defined relative to the source dir, where the related SConscript file is located.<br>
 <br>
 In the examples above<ul>
<li>'kio' specifies a subdir of the current directory,</li><li>'../kdecore' specifies a subdir on the same level as the current dir.</li><li>'/usr/include' and 'c:/Programme/openssl' specifies absolute (platform depending) pathes. Platform depending pathes should be avoided and either replaced by a <a class="el" href="configuration.html">Configuration process</a> option or only activated when compiling for the related platform like shown below: <div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>  env['WINDOWS']:
        obj.includes += ' c:/openssl/include'
<span class="keywordflow">else</span>: 
        obj.includes += ' /usr/include/openssl'
</pre></div></li><li>'#/DCOP' specifies an absolute path based on the <a class="el" href="glossar.html#source_root">source root</a> of the recent project.</li><li>'##/DCOP' specifies an absolute path based on the <a class="el" href="glossar.html#build_root">build root</a> and an absolute path based on the <a class="el" href="glossar.html#source_root">source root</a> of the recent project.</li></ul>
<p>
</li>
<li>
<div class="fragment"><pre class="fragment">obj.libs     = 'DCOP kICE'
</pre></div> This attribute specifies additional libraries, which will be linked to the target. To be platform independent, you should not add any prefix in library names. Using this form requires to specific the <b>libpaths</b> attribute below, otherwise your library may not found.<p>
</li>
<li>
<div class="fragment"><pre class="fragment">obj.libpaths     = 'kio ../kdecore'
obj.libpaths     = '/usr/lib/openssl c:/Programme/openssl'
obj.libpaths     = '#/DCOP'    
obj.libpaths     = '##/DCOP'
</pre></div> This attribute specifies library pathes, in which libraries specified with the <b>obj.libs</b> attribute will be searched.<p>
In the examples above<ul>
<li>'kio' specifies a subdir of the current directory,</li><li>'../kdecore' specifies a subdir on the same level as the current dir.</li><li>'/usr/include' and 'c:/Programme/openssl' specifies absolute (platform depending) pathes. Platform depending pathes should be avoided and either replaced by a <a class="el" href="configuration.html">Configuration process</a> option or only activated when linking for the related platform like shown below: <div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>  env['WINDOWS']:
        obj.libpaths += ' c:/openssl/lib'
<span class="keywordflow">else</span>: 
        obj.libpaths += ' /usr/lib/openssl'
</pre></div></li><li>'#/DCOP' specifies an absolute path based on the build dir of the recent project</li><li>'##/DCOP' specifies an absolute path based on the build root and an absolute path based on the source root of the recent project.</li></ul>
<p>
</li>
<li>
<div class="fragment"><pre class="fragment">obj.ccflags     = '-DXYz=x'
</pre></div> This attribute specifies definitions and options for the c compiler/preprocessor when compiling c source. Compiler options are compiler specific and should be limited to the related platform/compiler as shown in the example below: <div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>  env['WINDOWS'] and env['CC'] == 'cl':
        obj.ccflags = ' /G133'
<span class="keywordflow">else</span>: 
        obj.ccflags = ' -fcommon'
</pre></div> These definitions are also used for the c++ compiler, that means definitions required for the c and c++ compiler have only to be specified with this attribute.<p>
</li>
<li>
<div class="fragment"><pre class="fragment">obj.cxxflags     = '-DXYz=x'
</pre></div> This attribute specifies definitions used by the c++ compiler/preprocessor when compiling c++ source. Compiler options are compiler specific and should be limited to the related platform/compiler as shown in the example below: <div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>  env['WINDOWS'] and env['CC'] == 'cl':
        obj.cxxflags = ' /G133'
<span class="keywordflow">else</span>: 
        obj.cxxflags = ' -fcommon'
</pre></div><p>
</li>
</ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Oct 23 01:11:54 2005 for BKSYS - Build Kde SYStem by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
