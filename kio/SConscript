#! /usr/bin/env python

Import('env')

env.subdirs('kssl kio bookmarks kfile kpasswdserver')

obj = env.kdeobj('shlib', env)
obj.target   = 'libkio'
obj.vnum     = '6.0.2'
obj.source   = "SConscript.dummy kio/libksycoca.a bookmarks/libkbookmarks.a kfile/libkfile.a"
obj.iskdelib = 1
obj.linkflags = '-Wl,--whole-archive'
obj.uselib   = 'QT QTCORE QTGUI QT3SUPPORT KDE4 FAM'
obj.libs     = 'kssl/libkssl.a kio/libkiocore.a  ../kdeui/libkdeui.la ../kdesu/libkdesu.la ../kwallet/client/libkwalletclient.la'
#$(LIBZ) $(LIBFAM) $(LIBVOLMGT)
obj.execute()

servicetypes = [ 'application.desktop', 'kurifilterplugin.desktop', 'kcomprfilter.desktop', 'kscan.desktop', 
'kdatatool.desktop', 'kfileplugin.desktop', 'kcmodule.desktop', 'renamedlgplugin.desktop' ]

env.bksys_insttype('KDEDATA','servicetypes', servicetypes)
env.bksys_insttype('KDEDATA','services', 'data.protocol')
env.bksys_insttype('KDEDATA','services/kded', 'kpasswdserver.desktop')
env.bksys_insttype('KDEMIME','','magic')
