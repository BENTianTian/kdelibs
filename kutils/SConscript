#! /usr/bin/env python
#generated from kutils/Makefile.am by am2bksys.py
Import('env')

kutils_sources = """
kcmoduleinfo.cpp kcmoduleloader.cpp kfind.cpp
kfinddialog.cpp kmultitabbar.cpp 
kreplace.cpp kreplacedialog.cpp
"""

kutils_sources += """
kcmodulecontainer.cpp kcmultidialog.cpp kplugininfo.cpp kpluginselector.cpp kcmoduleproxy.cpp
kcmoduleproxyIface.skel kcmoduleproxyIfaceImpl.cpp 
"""

ksettings_sources = """
ksettings/componentsdialog.cpp
ksettings/dialog.cpp
ksettings/dispatcher.cpp
ksettings/pluginpage.cpp
"""

ksettings_headers = """
ksettings/componentsdialog.h
ksettings/dialog.h
ksettings/dispatcher.h
ksettings/pluginpage.h
"""

include_headers = """
kcmodulecontainer.h kcmoduleinfo.h kcmoduleloader.h kcmoduleproxy.h
kcmultidialog.h kfind.h kfinddialog.h kmultitabbar.h
kplugininfo.h kpluginselector.h kreplace.h kreplacedialog.h
"""

noinst_headers = """
kcmoduleproxyIface.h kmultitabbar_p.h kpluginselector_p.h
"""

includes = '#/interfaces/kregexpeditor ksettings '

obj = env.kdeobj('shlib')
obj.target = 'kutils'
obj.vnum = '3.0.2'
obj.source = kutils_sources + ksettings_sources
obj.includes = includes
obj.libpaths = '../kdecore ../kdeui ../dcop ../kio ../kdesu ../kdefx ../kwallet/client '
obj.libs = 'kdecore kdeui DCOP kio kdefx kwalletclient '
if not env['WINDOWS']:
	obj.libs += ' kdesu'
obj.uselib = 'QT QTCORE QTGUI QT3SUPPORT KDE4 '
obj.execute()

if env['MAC']:
	env.Depends('libkutils.3.0.2.dylib', '../kio/libkio.dylib')
elif not env['WINDOWS']:
	env.Depends('libkutils.so.3.0.2', '../kio/libkio.so')

for i in noinst_headers.split():
	env.Moc(i)

env.bksys_insttype('KDEINCLUDE','',include_headers)

	
"""Unhandled Defines 
METASOURCES = AUTO
DOXYGEN_REFERENCES = kdecore kdeui kio
kde_servicetypes_DATA = kplugininfo.desktop
"""
